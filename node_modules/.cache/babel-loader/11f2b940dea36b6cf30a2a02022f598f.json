{"ast":null,"code":"import _objectSpread from\"/Users/angel/Development/personal-projects/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/angel/Development/personal-projects/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserAccountUpdate(_ref){var user=_ref.user,setUser=_ref.setUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),updateUsername=_useState2[0],setUpdateUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),updateEmail=_useState4[0],setUpdateEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),updatePassword=_useState6[0],setUpdatePassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),updateName=_useState8[0],setUpdateName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),updateHomeLocation=_useState10[0],setUpdateHomeLocation=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];function handleSubmitUpdateForm(e){e.preventDefault();var accountUpdate={username:updateUsername,password:updatePassword,email:updateEmail,first_name:updateName,home_location:updateHomeLocation};setUser(_objectSpread(_objectSpread({},user),{},{updateUsername:updateUsername,updatePassword:updatePassword,updateEmail:updateEmail,updateName:updateName,updateHomeLocation:updateHomeLocation}));// refresh form inputs on change\nsetUpdateUsername(\"\");setUpdatePassword(\"\");setUpdateEmail(\"\");setUpdateName(\"\");setUpdateHomeLocation(\"\");fetch(\"http://localhost:4000/users/\".concat(user.id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(accountUpdate)}).then(function(r){if(r.ok){r.json().then(setUser);alert(\"Update successful\");}else{r.json().then(function(e){return setError(Object.entries(e.error).flat());});alert(\"Unsuccessful\");}});}function handleUsernameChange(e){setUpdateUsername(e.target.value);}function handlePasswordChange(e){setUpdatePassword(e.target.value);}function handleEmailChange(e){setUpdateEmail(e.target.value);}function handleNameChange(e){setUpdateName(e.target.value);}function handleHomeLocationChange(e){setUpdateHomeLocation(e.target.value);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'10%'}}),error?error.map(function(e){return/*#__PURE__*/_jsx(\"div\",{children:e});}):null,/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitUpdateForm,children:[/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"input\",{style:{width:'20%'},type:\"text\",value:updateUsername,placeholder:\"UPDATE USERNAME\",onChange:handleUsernameChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"input\",{style:{width:'20%'},type:\"password\",value:updatePassword,placeholder:\"UPDATE PASSWORD\",onChange:handlePasswordChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"input\",{style:{width:'20%'},type:\"text\",value:updateEmail,placeholder:\"UPDATE EMAIL\",onChange:handleEmailChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"input\",{style:{width:'20%'},type:\"text\",value:updateName,placeholder:\"UPDATE NAME\",onChange:handleNameChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"input\",{style:{width:'20%'},type:\"text\",value:updateHomeLocation,placeholder:\"UPDATE LOCATION\"//  placeholder=\"eg: New York, New York\"\n,onChange:handleHomeLocationChange}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:'10%'},children:\" Submit Changes \"}),/*#__PURE__*/_jsx(\"p\",{})]})]});}export default UserAccountUpdate;","map":{"version":3,"sources":["/Users/angel/Development/personal-projects/portfolio/src/components/UserAccountUpdate.js"],"names":["React","useState","UserAccountUpdate","user","setUser","updateUsername","setUpdateUsername","updateEmail","setUpdateEmail","updatePassword","setUpdatePassword","updateName","setUpdateName","updateHomeLocation","setUpdateHomeLocation","error","setError","handleSubmitUpdateForm","e","preventDefault","accountUpdate","username","password","email","first_name","home_location","fetch","id","method","headers","body","JSON","stringify","then","r","ok","json","alert","Object","entries","flat","handleUsernameChange","target","value","handlePasswordChange","handleEmailChange","handleNameChange","handleHomeLocationChange","marginTop","map","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\n\nfunction UserAccountUpdate({user, setUser}) {\n\n  const [updateUsername, setUpdateUsername] =useState(\"\")\n  const [updateEmail, setUpdateEmail]= useState(\"\")\n  const [updatePassword, setUpdatePassword]= useState(\"\")\n  const [updateName, setUpdateName]= useState(\"\")\n  const [updateHomeLocation, setUpdateHomeLocation]= useState(\"\")\n  const [error, setError] = useState([])\n\n  function handleSubmitUpdateForm(e){\n      e.preventDefault()\n\n      const accountUpdate = {\n        username: updateUsername,\n        password: updatePassword,\n        email: updateEmail,\n        first_name: updateName,\n        home_location: updateHomeLocation,\n      }\n      setUser({\n        ...user, \n        updateUsername, \n        updatePassword, \n        updateEmail, \n        updateName, \n        updateHomeLocation\n      })\n\n      // refresh form inputs on change\n      setUpdateUsername(\"\")\n      setUpdatePassword(\"\")\n      setUpdateEmail(\"\")\n      setUpdateName(\"\")\n      setUpdateHomeLocation(\"\")\n\n      fetch(`http://localhost:4000/users/${user.id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n      },\n        body: JSON.stringify(accountUpdate),\n      })\n      .then(r => {\n          if(r.ok){\n            r.json().then(setUser)\n            alert(\"Update successful\")\n          } else {\n              r.json().then(e => setError(Object.entries(e.error).flat()))\n              alert(\"Unsuccessful\")\n          }\n      });\n  }\n\n    function handleUsernameChange(e){\n      setUpdateUsername(e.target.value)\n    } \n    function handlePasswordChange(e){\n      setUpdatePassword(e.target.value)\n    }\n    function handleEmailChange(e){\n      setUpdateEmail(e.target.value)\n    }\n    function handleNameChange(e){\n      setUpdateName(e.target.value)\n    } \n    function handleHomeLocationChange(e){\n      setUpdateHomeLocation(e.target.value)\n    }\n          \n  return (\n    <div>\n\n      <p style={{marginTop: '10%'}}></p>\n      {/* <span style={{fontWeight: 'bold'}}> Update Account</span>  \n      <p></p> */}\n\n      {error?error.map(e => <div>{e}</div>):null}\n\n      <form onSubmit={handleSubmitUpdateForm} >\n\n        {/* <label> Username: </label> */}\n        <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateUsername} \n            placeholder=\"UPDATE USERNAME\"\n            onChange={handleUsernameChange} \n          />\n       \n        {/* <label> Password: </label> */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"password\" \n            value={updatePassword} \n            placeholder=\"UPDATE PASSWORD\"\n            onChange={handlePasswordChange} \n          />\n\n        {/* <label> Email: </label> */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateEmail} \n            placeholder=\"UPDATE EMAIL\"\n            onChange={handleEmailChange} \n          />\n\n        {/* <label> Name: </label>  */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateName} \n            placeholder=\"UPDATE NAME\"\n            onChange={handleNameChange} \n          />\n       \n\n        {/* <label> Current Location: </label>  */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateHomeLocation} \n            placeholder=\"UPDATE LOCATION\"\n          //  placeholder=\"eg: New York, New York\"\n            onChange={handleHomeLocationChange} \n          />\n    \n        <p></p>\n        <button type=\"submit\" style={{width:'10%'}}> Submit Changes </button>\n        <p></p>\n\n      </form>\n        \n    </div>\n  )\n}\n\nexport default UserAccountUpdate"]},"metadata":{},"sourceType":"module"}