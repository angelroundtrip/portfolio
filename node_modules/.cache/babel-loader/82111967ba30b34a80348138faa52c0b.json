{"ast":null,"code":"import _slicedToArray from\"/Users/angel/Development/personal-projects/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../App.css';import{useState,useEffect}from\"react\";import{Routes,Route}from\"react-router-dom\";import FrontPage from\"./FrontPage\";import Homepage from\"./Homepage\";import PostForm from\"./Post\";import ProfilePage from\"./ProfilePage\";import Signup from\"./Signup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// * USER ACCOUNTS\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];console.log(user);useEffect(function(){fetch('/me').then(function(r){if(r.ok){r.json().then(function(user){return setUser(user);});}});},[]);var handleDeleteAccount=function handleDeleteAccount(){fetch(\"/users/\".concat(user.id),{method:\"DELETE\"});setUser(null);alert(\"Account deleted\");};// * LOCATIONS\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];// console.log(location)\nuseEffect(function(){fetch('/me').then(function(r){if(r.ok){r.json().then(function(location){return setLocation(location);});}});},[]);// * POSTS \nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),postContent=_useState6[0],setPostContent=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),posts=_useState8[0],setPosts=_useState8[1];// * Renders all posts\nuseEffect(function(){fetch(\"/posts\").then(function(r){return r.json();}).then(setPosts);},[]);var handleDeletePosts=function handleDeletePosts(id){fetch(\"/posts/\".concat(id),{method:\"DELETE\"});setPosts(null);// alert(\"Post deleted\")\n};// * WEATHER\nvar _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),weatherData=_useState10[0],setWeatherData=_useState10[1];var getWeather=function getWeather(){fetch('/weather').then(function(r){return r.json();}).then(setWeatherData);};useEffect(function(){getWeather();},[]);// console.log(weatherData)\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Homepage,{user:user,setUser:setUser,handleDeleteAccount:handleDeleteAccount,location:location,weatherData:weatherData,handleDeletePosts:handleDeletePosts})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/posts\",element:/*#__PURE__*/_jsx(PostForm,{user:user,location:location,handleDeletePosts:handleDeletePosts,posts:posts})}),/*#__PURE__*/_jsx(Route,{path:\"/account\",element:/*#__PURE__*/_jsx(ProfilePage,{user:user,setUser:setUser,weatherData:weatherData,location:location,handleDeleteAccount:handleDeleteAccount,postContent:postContent,setPostContent:setPostContent})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(FrontPage,{user:user,setUser:setUser})})]})});}export default App;","map":{"version":3,"sources":["/Users/angel/Development/personal-projects/portfolio/src/components/App.js"],"names":["useState","useEffect","Routes","Route","FrontPage","Homepage","PostForm","ProfilePage","Signup","App","user","setUser","console","log","fetch","then","r","ok","json","handleDeleteAccount","id","method","alert","location","setLocation","postContent","setPostContent","posts","setPosts","handleDeletePosts","weatherData","setWeatherData","getWeather"],"mappings":"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","sourcesContent":["import '../App.css';\nimport { useState, useEffect } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport FrontPage from \"./FrontPage\";\nimport Homepage from \"./Homepage\";\nimport PostForm from \"./Post\";\nimport ProfilePage from \"./ProfilePage\";\nimport Signup from \"./Signup\";\n\n\nfunction App() {\n\n  // * USER ACCOUNTS\n  const [user, setUser] = useState('')\n  console.log(user)\n  \n  useEffect(()=>{\n    fetch('/me')\n      .then(r => {\n        if(r.ok){\n          r.json().then(user=>setUser(user))\n        }\n      })\n  },[])\n \n  const handleDeleteAccount = () => {\n    fetch(`/users/${user.id}`,{\n      method:\"DELETE\",\n    })\n    setUser(null);\n    alert(\"Account deleted\")\n  }\n\n  // * LOCATIONS\n  const [location, setLocation] = useState([])\n  // console.log(location)\n  \n  useEffect(()=>{\n    fetch('/me')\n      .then(r => {\n        if(r.ok){\n          r.json().then(location=>setLocation(location))\n        }\n      })\n  },[])\n      \n  // * POSTS \n  const [postContent, setPostContent] = useState(\"\")\n  const [posts, setPosts] = useState([])\n\n  // * Renders all posts\n  useEffect(()=>{\n    fetch(`/posts`)\n    .then(r=>r.json())\n    .then(setPosts)\n  }, [])\n\n  const handleDeletePosts = (id) => {\n    fetch(`/posts/${id}`,{\n      method:\"DELETE\",\n    })\n    setPosts(null);\n    // alert(\"Post deleted\")\n  }\n\n  // * WEATHER\n  const [weatherData, setWeatherData] = useState({});\n  \n  const getWeather = () => {\n    fetch('/weather')\n      .then(r => r.json())\n      .then(setWeatherData);\n  }\n\n  useEffect(() => {\n    getWeather();\n  }, []);\n  // console.log(weatherData)\n\n  return (\n    <div className=\"App\">\n\n    <Routes>\n\n      <Route path=\"/home\" \n        element={\n          <Homepage \n            user={user} \n            setUser={setUser} \n            handleDeleteAccount={handleDeleteAccount} \n            location={location} \n            weatherData={weatherData} \n            handleDeletePosts={handleDeletePosts}\n          />\n        }\n      />\n\n      <Route path=\"/signup\" element={<Signup />}/>\n\n      <Route path=\"/posts\" \n        element={\n          <PostForm \n            user={user}  \n            location={location} \n            handleDeletePosts={handleDeletePosts} \n            posts={posts}\n          />\n        } \n      />\n\n      <Route path=\"/account\" \n        element={\n          <ProfilePage \n          user={user} \n          setUser={setUser} \n          weatherData={weatherData} \n          location={location} \n          handleDeleteAccount={handleDeleteAccount}\n          postContent={postContent}\n          setPostContent={setPostContent}\n          />\n        } \n      />\n    \n      <Route path=\"/\" \n        element={\n          <FrontPage \n            user={user} \n            setUser={setUser}\n          />\n        }\n      />\n\n    </Routes>\n    \n  </div>\n  );\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}