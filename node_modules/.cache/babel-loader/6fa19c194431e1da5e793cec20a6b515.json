{"ast":null,"code":"var _jsxFileName = \"/Users/angel/Development/personal-projects/portfolio/src/components/UserAccountUpdate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserAccountUpdate(_ref) {\n  _s();\n\n  let {\n    user,\n    setUser\n  } = _ref;\n  const [updateUsername, setUpdateUsername] = useState(\"\");\n  const [updateEmail, setUpdateEmail] = useState(\"\");\n  const [updatePassword, setUpdatePassword] = useState(\"\");\n  const [updateName, setUpdateName] = useState(\"\");\n  const [updateHomeLocation, setUpdateHomeLocation] = useState(\"\");\n  const [error, setError] = useState([]);\n\n  function handleSubmitUpdateForm(e) {\n    e.preventDefault();\n    const accountUpdate = {\n      username: updateUsername,\n      password: updatePassword,\n      email: updateEmail,\n      first_name: updateName,\n      home_location: updateHomeLocation\n    };\n    setUser({ ...user,\n      updateUsername,\n      updatePassword,\n      updateEmail,\n      updateName,\n      updateHomeLocation\n    }); // refresh form inputs on change\n\n    setUpdateUsername(\"\");\n    setUpdatePassword(\"\");\n    setUpdateEmail(\"\");\n    setUpdateName(\"\");\n    setUpdateHomeLocation(\"\");\n    fetch(`http://localhost:4000/users/${user.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(accountUpdate)\n    }).then(r => {\n      if (r.ok) {\n        r.json().then(setUser);\n        alert(\"Update successful\");\n      } else {\n        r.json().then(e => setError(Object.entries(e.error).flat()));\n        alert(\"Unsuccessful\");\n      }\n    });\n  }\n\n  function handleUsernameChange(e) {\n    setUpdateUsername(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setUpdatePassword(e.target.value);\n  }\n\n  function handleEmailChange(e) {\n    setUpdateEmail(e.target.value);\n  }\n\n  function handleNameChange(e) {\n    setUpdateName(e.target.value);\n  }\n\n  function handleHomeLocationChange(e) {\n    setUpdateHomeLocation(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '10%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), error ? error.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: e\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }, this)) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmitUpdateForm,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: '20%'\n        },\n        type: \"text\",\n        value: updateUsername,\n        placeholder: \"UPDATE USERNAME\",\n        onChange: handleUsernameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: '20%'\n        },\n        type: \"password\",\n        value: updatePassword,\n        placeholder: \"UPDATE PASSWORD\",\n        onChange: handlePasswordChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: '20%'\n        },\n        type: \"text\",\n        value: updateEmail,\n        placeholder: \"UPDATE EMAIL\",\n        onChange: handleEmailChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: '20%'\n        },\n        type: \"text\",\n        value: updateName,\n        placeholder: \"UPDATE NAME\",\n        onChange: handleNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: '20%'\n        },\n        type: \"text\",\n        value: updateHomeLocation,\n        placeholder: \"UPDATE LOCATION\" //  placeholder=\"eg: New York, New York\"\n        ,\n        onChange: handleHomeLocationChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: '10%'\n        },\n        children: \" Submit Changes \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserAccountUpdate, \"QcHXweLnnFC7NYOR1lIOqeiRwPY=\");\n\n_c = UserAccountUpdate;\nexport default UserAccountUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserAccountUpdate\");","map":{"version":3,"sources":["/Users/angel/Development/personal-projects/portfolio/src/components/UserAccountUpdate.js"],"names":["React","useState","UserAccountUpdate","user","setUser","updateUsername","setUpdateUsername","updateEmail","setUpdateEmail","updatePassword","setUpdatePassword","updateName","setUpdateName","updateHomeLocation","setUpdateHomeLocation","error","setError","handleSubmitUpdateForm","e","preventDefault","accountUpdate","username","password","email","first_name","home_location","fetch","id","method","headers","body","JSON","stringify","then","r","ok","json","alert","Object","entries","flat","handleUsernameChange","target","value","handlePasswordChange","handleEmailChange","handleNameChange","handleHomeLocationChange","marginTop","map","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n\n\nfunction UserAccountUpdate({user, setUser}) {\n\n  const [updateUsername, setUpdateUsername] =useState(\"\")\n  const [updateEmail, setUpdateEmail]= useState(\"\")\n  const [updatePassword, setUpdatePassword]= useState(\"\")\n  const [updateName, setUpdateName]= useState(\"\")\n  const [updateHomeLocation, setUpdateHomeLocation]= useState(\"\")\n  const [error, setError] = useState([])\n\n  function handleSubmitUpdateForm(e){\n      e.preventDefault()\n\n      const accountUpdate = {\n        username: updateUsername,\n        password: updatePassword,\n        email: updateEmail,\n        first_name: updateName,\n        home_location: updateHomeLocation,\n      }\n      setUser({\n        ...user, \n        updateUsername, \n        updatePassword, \n        updateEmail, \n        updateName, \n        updateHomeLocation\n      })\n\n      // refresh form inputs on change\n      setUpdateUsername(\"\")\n      setUpdatePassword(\"\")\n      setUpdateEmail(\"\")\n      setUpdateName(\"\")\n      setUpdateHomeLocation(\"\")\n\n      fetch(`http://localhost:4000/users/${user.id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n      },\n        body: JSON.stringify(accountUpdate),\n      })\n      .then(r => {\n          if(r.ok){\n            r.json().then(setUser)\n            alert(\"Update successful\")\n          } else {\n              r.json().then(e => setError(Object.entries(e.error).flat()))\n              alert(\"Unsuccessful\")\n          }\n      });\n  }\n\n    function handleUsernameChange(e){\n      setUpdateUsername(e.target.value)\n    } \n    function handlePasswordChange(e){\n      setUpdatePassword(e.target.value)\n    }\n    function handleEmailChange(e){\n      setUpdateEmail(e.target.value)\n    }\n    function handleNameChange(e){\n      setUpdateName(e.target.value)\n    } \n    function handleHomeLocationChange(e){\n      setUpdateHomeLocation(e.target.value)\n    }\n          \n  return (\n    <div>\n\n      <p style={{marginTop: '10%'}}></p>\n      {/* <span style={{fontWeight: 'bold'}}> Update Account</span>  \n      <p></p> */}\n\n      {error?error.map(e => <div>{e}</div>):null}\n\n      <form onSubmit={handleSubmitUpdateForm} >\n\n        {/* <label> Username: </label> */}\n        <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateUsername} \n            placeholder=\"UPDATE USERNAME\"\n            onChange={handleUsernameChange} \n          />\n       \n        {/* <label> Password: </label> */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"password\" \n            value={updatePassword} \n            placeholder=\"UPDATE PASSWORD\"\n            onChange={handlePasswordChange} \n          />\n\n        {/* <label> Email: </label> */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateEmail} \n            placeholder=\"UPDATE EMAIL\"\n            onChange={handleEmailChange} \n          />\n\n        {/* <label> Name: </label>  */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateName} \n            placeholder=\"UPDATE NAME\"\n            onChange={handleNameChange} \n          />\n       \n\n        {/* <label> Current Location: </label>  */}\n          <p></p>\n          <input \n            style={{width:'20%'}}\n            type=\"text\" \n            value={updateHomeLocation} \n            placeholder=\"UPDATE LOCATION\"\n          //  placeholder=\"eg: New York, New York\"\n            onChange={handleHomeLocationChange} \n          />\n    \n        <p></p>\n        <button type=\"submit\" style={{width:'10%'}}> Submit Changes </button>\n        <p></p>\n\n      </form>\n        \n    </div>\n  )\n}\n\nexport default UserAccountUpdate"]},"metadata":{},"sourceType":"module"}